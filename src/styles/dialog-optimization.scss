/**
 * Element UI 对话框性能优化样式
 */

// 优化对话框性能
.optimized-dialog {
  // 硬件加速
  transform: translateZ(0);
  -webkit-transform: translateZ(0);
  
  // 减少重绘
  will-change: transform, opacity;
  
  // 优化动画性能
  .el-dialog {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    transform: translateZ(0);
    
    // 减少布局重排
    &__header {
      will-change: auto;
    }
    
    &__body {
      will-change: auto;
      // 避免内容溢出导致的性能问题
      overflow-y: auto;
      max-height: 60vh;
    }
    
    &__footer {
      will-change: auto;
    }
  }
  
  // 优化遮罩层性能
  .el-dialog__wrapper {
    // 硬件加速
    transform: translateZ(0);
    -webkit-transform: translateZ(0);
    
    // 减少重绘
    will-change: opacity;
    
    // 优化滚动性能
    -webkit-overflow-scrolling: touch;
    
    // 禁用用户选择，提高性能
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
  }
}

// 全局对话框优化
.el-dialog__wrapper {
  // 减少GPU内存使用
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
  
  // 优化触摸事件
  touch-action: manipulation;
}

// 响应式优化
@media (max-width: 768px) {
  .optimized-dialog {
    .el-dialog {
      width: 90% !important;
      margin: 5vh auto;
      
      &__body {
        max-height: 50vh;
        padding: 15px;
      }
    }
  }
}

// 减少动画期间的重排
.el-dialog-fade-enter-active,
.el-dialog-fade-leave-active {
  transform: translateZ(0);
  will-change: opacity, transform;
}

.el-dialog-fade-enter,
.el-dialog-fade-leave-to {
  transform: translateZ(0);
  opacity: 0;
} 